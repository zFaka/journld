{"version":3,"sources":["types/types.js","firebase/firebase-config.js","actions/ui.js","helpers/fileUpload.js","helpers/loadNotes.js","actions/notes.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalScreen.js","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","reducers/uiReducer.js","reducers/notesReducer.js","store/store.js","reducers/authReducer.js","JournalApp.js","index.js"],"names":["types","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","googleAuthProvider","auth","GoogleAuthProvider","setError","err","type","payload","uiFinishLoading","fileUpload","file","a","formData","FormData","append","fetch","method","body","rsp","ok","json","cloudResp","secure_url","loadNotes","uid","collection","get","notesSnap","notes","forEach","snapChild","push","id","data","activeNote","note","addNewNote","setNotes","startSaveNote","dispatch","getState","url","noteToFirestore","doc","update","refreshNote","Swal","fire","title","deleteNote","startLoginEmailPass","email","password","signInWithEmailAndPassword","then","user","login","displayName","catch","e","console","log","message","logout","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","target","name","value","LoginScreen","useDispatch","loading","useSelector","state","ui","formValues","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","disabled","onClick","signInWithPopup","src","alt","to","RegisterScreen","msgError","password2","isFormValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegEmailPassName","AuthRouter","exact","path","component","JournalEntry","date","noteDate","moment","style","backgroundSize","backgroundImage","format","JournalEntries","map","key","Sidebar","signOut","newNote","Date","getTime","add","NotesAppBar","active","display","files","text","allowOutsideClick","onBeforeOpen","showLoading","fileUrl","close","startUpLoading","document","querySelector","click","NoteScreen","activeId","useRef","useEffect","current","delete","startDeleting","NothingSelected","JournalScreen","PrivateRoute","isAuthenticated","Component","rest","props","PublicRoute","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","height","justifyContent","alignItems","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c0c99134.chunk.js","sourcesContent":["export const types = {\n\n  login: '[Auth] Login', \n  logout:'[Auth] Logout', \n\n  uiSetError:'[UI] Set Error', \n  uiDelError:'[UI] Del Error', \n\n  uiStartLoading: '[UI] Start Loading', \n  uiFinishLoading:'[UI] Finish Loading', \n\n  notesAddNew:     '[Notes] New Note', \n  notesActive:     '[Notes] Set Active Note', \n  notesLoad:       '[Notes] Load Note', \n  notesUpdated:    '[Notes] Update Note', \n  notesFileUrl:    '[Notes] Updated Img Url', \n  notesDelete:     '[Notes] Delete Note', \n  notesLogoutClean:'[Notes] Logout Cleaning State', \n\n};\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDy0NWLVYiUjEah_aEykit_LLmZqyJ7n9M\",\n  authDomain: \"react-app-cursos-76a46.firebaseapp.com\",\n  projectId: \"react-app-cursos-76a46\",\n  storageBucket: \"react-app-cursos-76a46.appspot.com\",\n  messagingSenderId: \"232647426404\",\n  appId: \"1:232647426404:web:9ad6c4b84542f98865ba71\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport {\n  db, \n  googleAuthProvider, \n  firebase\n}\n","import {types} from \"../types/types\";\n\nexport const setError = (err) => ({\n\n  type:types.uiSetError, \n  payload: err\n});\n\nexport const delError = () => ({\n\n  type:types.uiDelError\n});\n\nexport const uiStartLoading = () => ({\n  type:types.uiStartLoading\n})\n\nexport const uiFinishLoading = () => ({\n  type:types.uiFinishLoading\n})\n","export const fileUpload = async (file) => {\n\n  const cloudUrl = 'https://api.cloudinary.com/v1_1/fakloud/upload';\n\n  const formData = new FormData();\n  formData.append('upload_preset', 'react-journal')\n  formData.append('file', file)\n\n  try{\n\n    const rsp = await fetch(cloudUrl, {\n      method:'POST', \n      body:formData\n    }); \n\n    if(rsp.ok){\n\n      const cloudResp = await rsp.json();\n      return cloudResp.secure_url\n\n    }else{\n\n      return null;\n    }\n\n  }catch (error) {\n    throw error;\n  }\n}\n","import {db} from \"../firebase/firebase-config\"\n\nexport const loadNotes = async (uid) => {\n\n  const notesSnap = await db.collection(`${uid}/journal/notes`).get()\n  const notes = []\n  notesSnap.forEach(snapChild => {\n    notes.push({\n        id:snapChild.id, \n      ...snapChild.data()\n    })\n  })\n  return notes\n}\n","import Swal from \"sweetalert2\";\nimport {db} from \"../firebase/firebase-config\";\nimport {fileUpload} from \"../helpers/fileUpload\";\nimport {loadNotes} from \"../helpers/loadNotes\";\nimport {types} from \"../types/types\";\n\nexport const startNewNote = () => {\n\n  return async(dispatch, getState) => {\n\n    const uid = getState().auth.uid; \n\n    const newNote = {\n      title:'', \n      body: '', \n      date: new Date().getTime()\n    }\n\n    // doc is the Document Reference from Firbase Database\n\n    const doc = await db.collection(`${uid}/journal/notes`)\n      .add(newNote)\n\n    dispatch(activeNote(doc.id, newNote))\n    dispatch(addNewNote(doc.id, newNote))\n  }\n}\n\n\n\nexport const activeNote = (id, note) => ({\n\n  type:types.notesActive, \n  payload:{\n    id,\n    ...note\n  }\n});\n\n\n\nexport const addNewNote = (id, note) => ({\n  type:types.notesAddNew, \n  payload:{\n      id, ...note\n  }\n})\n\n\n\nexport const startLoadingNotes = (uid) => {\n  return async(dispatch) => {\n\n    const notes = await loadNotes(uid)\n    dispatch(setNotes(notes))}\n}\n\n\n\nexport const setNotes = (notes) => ({\n\n  type:types.notesLoad, \n  payload:notes\n})\n\n\n\nexport const startSaveNote = (note) => {\n\n  return async(dispatch, getState) => {\n\n    const {uid} = getState().auth; \n    if(!note.url){delete note.url}\n    const noteToFirestore = {...note};\n    delete noteToFirestore.id;\n\n    await db.doc(`${uid}/journal/notes/${note.id}`).update(noteToFirestore);\n\n    dispatch(refreshNote(note.id, note))\n    Swal.fire('Saved', note.title, 'success')\n  }\n}\n\n\nexport const refreshNote = (id, note) => ({\n\n  type:types.notesUpdated, \n  payload:{\n    id, \n    note:{\n      id, \n      ...note\n    }\n  }\n})\n\n\n\nexport const startUpLoading = (file) => {\n\n  return async(dispatch, getState) => {\n\n    const {active:activeNote} = getState().notes;\n\n    Swal.fire({\n      title:'Uploading. .  .', \n      text:'Cool people is patience', \n      allowOutsideClick: false, \n      onBeforeOpen:() => {\n\n        Swal.showLoading()\n      }\n    })\n\n    const fileUrl = await fileUpload(file);\n    activeNote.url = fileUrl\n    dispatch(startSaveNote(activeNote))\n    Swal.close()\n  }\n}\n\n\n\nexport const startDeleting = (id) => {\n\n  return async(dispatch, getState) => {\n\n    const uid = getState().auth.uid;\n    await db.doc(`${uid}/journal/notes/${id}`).delete()\n\n    dispatch(deleteNote(id))\n  }\n};\n\n\n\nexport const deleteNote = (id) => ({\n\n  type:types.notesDelete, \n  payload:id\n});\n\n\n\nexport const logoutNote = () => ({\n  type:types.notesLogoutClean, \n})\n","import {types} from \"../types/types\";\nimport {firebase, googleAuthProvider} from '../firebase/firebase-config';\nimport {uiFinishLoading, uiStartLoading} from \"./ui\";\nimport Swal from 'sweetalert2'\nimport {logoutNote} from \"./notes\";\n\n\n\nexport const startLoginEmailPass = (email, password) => {\n  return (dispatch) => {\n    dispatch(uiStartLoading())\n    firebase.auth().signInWithEmailAndPassword(email, password)\n      .then(({user}) => {\n        dispatch(login(user.uid, user.displayName))\n        dispatch(uiFinishLoading())\n      })\n      .catch(e => {\n        console.log(e)\n        dispatch(uiFinishLoading())\n        Swal.fire('Error', e.message, 'error')\n      })\n  }\n}\n\n\n\nexport const startRegEmailPassName = (name, email, password ) => {\n\n\n  return (dispatch) => {\n\n\n    firebase.auth().createUserWithEmailAndPassword(email, password)\n      .then( async ({user}) => {\n\n        await user.updateProfile({displayName:name});\n\n        dispatch(\n          login(user.uid, user.displayName))\n      })\n      .catch(e => {\n        console.log(e)\n        Swal.fire('Error', e.message, 'error')\n      })\n  }\n\n};\n\n\n\nexport const startGoogleLogin = () => {\n  return (dispatch) => {\n\n    firebase.auth().signInWithPopup(googleAuthProvider) \n      .then(({user}) => {\n        console.log(user.displayName, user.uid )\n      })\n  }\n\n};\n\n\n\nexport const login = (uid, displayName) => ({\n\n  type:types.login, \n  payload:{\n\n    uid, \n    displayName\n  }\n})\n\n\n\nexport const startLogout = () => {\n\n  return async(dispatch) => {\n    await firebase.auth().signOut()\n    dispatch(logout())\n    dispatch(logoutNote())\n  }\n\n}\n\n\n\nexport const logout = () => ({\n  type:types.logout\n});\n","import { useState } from 'react';\n\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState(initialState);\n\n    const reset = (newFormState = initialState) => {\n        setValues( newFormState );\n    }\n\n\n    const handleInputChange = ({ target }) => {\n\n        setValues({\n            ...values,\n            [ target.name ]: target.value\n        });\n\n    }\n\n    return [ values, handleInputChange, reset ];\n\n}\n","import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport {startGoogleLogin, startLoginEmailPass} from '../../actions/auth';\nimport {useForm} from '../../hooks/useForm';\n\nexport const LoginScreen = () => {\n\n\n    const dispatch = useDispatch()\n\n    const {loading} = useSelector( state => state.ui);\n\n    const [formValues, handleInputChange] = useForm({\n\n        email:'nandito@gmail.com', \n        password:'123456'\n    });\n\n    const {email, password} = formValues;\n\n\n\n    const handleLogin = (e) => {\n\n        e.preventDefault();\n            dispatch(startLoginEmailPass(email, password))\n    };\n\n\n\n    const handleGoogleLogin = (e) => {\n\n        e.preventDefault();\n        dispatch(startGoogleLogin())\n    };\n\n\n\n    return (\n        <>\n            <h3 className=\"auth__title\">Login</h3>\n\n            <form onSubmit={handleLogin} \n                className='animate__animated animate__fadeIn animate__faster'\n            >\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    className=\"auth__input\"\n                    autoComplete=\"off\"\n                    value={email}\n                    onChange={handleInputChange}\n                />\n\n                <input \n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    className=\"auth__input\"\n                    value={password}\n                    onChange={handleInputChange}\n                />\n\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary btn-block\"\n                    disabled={loading}\n                >\n                    Login\n                </button>\n\n\n                <div className=\"auth__social-networks\">\n                    <p>Login with social networks</p>\n\n                    <div \n                        className=\"google-btn\"\n                        onClick={handleGoogleLogin}\n                    >\n                        <div className=\"google-icon-wrapper\">\n                            <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google button\" />\n                        </div>\n                        <p className=\"btn-text\">\n                            <b>Sign in with google</b>\n                        </p>\n                    </div>\n                </div>\n\n                <Link \n                    to=\"/auth/register\"\n                    className=\"link\"\n                >\n                    Create new account    \n                </Link>\n            </form>\n        </>\n    )\n}\n","import React from 'react';\nimport validator from 'validator';\nimport { Link } from 'react-router-dom';\nimport {useForm} from '../../hooks/useForm';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {delError, setError} from '../../actions/ui';\nimport {startRegEmailPassName} from '../../actions/auth';\n\nexport const RegisterScreen = () => {\n\n\n    const dispatch = useDispatch()\n\n    const {msgError} = useSelector( state => state.ui);\n    console.log(msgError)\n\n    const [formValues, handleInputChange] = useForm({\n        name:'Henri', \n        email:'nandito@gmail.com', \n        password:'123456', \n        password2:'123456'\n    });\n\n    const {name, email, password, password2} = formValues;\n\n\n\n    const handleRegister = (e) => {\n\n        e.preventDefault();\n        if(isFormValid()){\n            dispatch(startRegEmailPassName(name, email, password))\n        }\n    };\n\n\n\n    const isFormValid = () => {\n\n\n        if(name.trim().length === 0){\n            dispatch(setError('!name'))\n            return false;\n\n        } else if (!validator.isEmail(email)){\n            dispatch(setError('!mail'))\n            return false;\n\n        } else if (password !== password2 || password.length < 5) {\n            dispatch(setError('!pass'))\n            return false\n\n        }\n        dispatch(delError())\n        return true ;\n    };\n\n\n\n    return (\n        <>\n            <h3 className=\"auth__title\">Register</h3>\n\n            <form onSubmit={handleRegister}>\n\n                {\n                    msgError &&\n                        (\n                            <div className='auth__alert-error'>\n                                {msgError}\n                            </div>\n                        )\n                }\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Name\"\n                    name=\"name\"\n                    className=\"auth__input\"\n                    autoComplete=\"off\"\n                    value={name}\n                    onChange={handleInputChange}\n                />\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    className=\"auth__input\"\n                    autoComplete=\"off\"\n                    value={email}\n                    onChange={handleInputChange}\n                />\n\n                <input \n                    type=\"password\"\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    className=\"auth__input\"\n                    value={password}\n                    onChange={handleInputChange}\n                />\n\n                <input \n                    type=\"password\"\n                    placeholder=\"Confirm password\"\n                    name=\"password2\"\n                    className=\"auth__input\"\n                    value={password2}\n                    onChange={handleInputChange}\n                />\n\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary btn-block mb-5\"\n                >\n                    Register\n                </button>\n\n\n\n                <Link \n                    to=\"/auth/login\"\n                    className=\"link\"\n                >\n                    Already registered?\n                </Link>\n\n            </form>\n        </>\n    )\n}\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { LoginScreen } from '../components/auth/LoginScreen';\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\n\nexport const AuthRouter = () => {\n    return (\n        <div className=\"auth__main\">\n            <div className=\"auth__box-container\">\n                <Switch>\n                    <Route \n                        exact\n                        path=\"/auth/login\"\n                        component={ LoginScreen }\n                    />\n\n                    <Route \n                        exact\n                        path=\"/auth/register\"\n                        component={ RegisterScreen }\n                    />\n\n                    <Redirect to=\"/auth/login\" />\n\n\n                </Switch>\n            </div>\n\n        </div>\n    )\n}\n","import moment from 'moment';\nimport React from 'react'\nimport {useDispatch} from 'react-redux';\nimport {activeNote} from '../../actions/notes';\n\nexport const JournalEntry = (\n    {id, date, title, body, url}\n) => {\n\n\n    const dispatch = useDispatch();\n\n\n    const noteDate = moment(date);\n\n\n    const handleEntryClick = () => {\n        dispatch(activeNote(id, {date, body, title, url}))\n    };\n\n\n\n    return (\n        <div \n            className=\"journal__entry pointer animate__animated animate__fadeIn\"\n            onClick={handleEntryClick}\n        >\n\n            {\n                url &&\n\n                    <div \n                        className=\"journal__entry-picture\"\n                        style={{\n                            backgroundSize: 'cover',\n                            backgroundImage: `url(${url})`\n                        }}\n                    ></div>\n            }\n\n            <div className=\"journal__entry-body\">\n                <p className=\"journal__entry-title\">\n                    {title} \n                </p>\n                <p className=\"journal__entry-content\">\n                    {body}\n                </p>\n            </div>\n\n            <div className=\"journal__entry-date-box\">\n                <span>{noteDate.format('dddd')}</span>\n                <h4>{noteDate.format('D')}</h4>\n            </div>\n\n        </div>\n    )\n}\n","import React from 'react'\nimport {useSelector} from 'react-redux';\nimport { JournalEntry } from './JournalEntry';\n\nexport const JournalEntries = () => {\n\n\n    const {notes} = useSelector(state => state.notes);\n\n\n    return (\n        <div className=\"journal__entries \">\n\n            {\n                notes.map( note => (\n                    <JournalEntry \n                        key={ note.id } \n                        {...note}\n                    />\n                ))\n            }\n\n        </div>\n    )\n}\n","import React from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport {startLogout} from '../../actions/auth';\nimport {startNewNote} from '../../actions/notes';\nimport { JournalEntries } from './JournalEntries'\n\nexport const Sidebar = () => {\n\n\n    const dispatch = useDispatch();\n\n    const {name} = useSelector( state => state.auth)\n\n\n    const handleLogout = () => {\n        dispatch(startLogout())\n    };\n\n\n\n    const handleAddNewEntry = () => {\n\n        dispatch(startNewNote());\n    };\n\n\n\n    return (\n        <aside className=\"journal__sidebar \">\n\n            <div className=\"journal__sidebar-navbar\">\n                <h3 className=\"mt-5\">\n                    <i className=\"far fa-moon\"></i>\n                    <span>{name}</span>\n                </h3>\n\n                <button \n                    className=\"btn\"\n                    onClick={handleLogout}\n                >\n                    Logout\n                </button>\n            </div>\n\n            <div \n                className=\"journal__new-entry\"\n                onClick={handleAddNewEntry}\n            >\n                <i className=\"far fa-calendar-plus fa-5x\"></i>\n                <p className=\"mt-5\">\n                    New entry\n                </p>\n            </div>\n\n            <JournalEntries />    \n\n        </aside>\n    )\n}\n","import React from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport {startSaveNote, startUpLoading} from '../../actions/notes';\n\nexport const NotesAppBar = () => {\n\n\n    const dispatch = useDispatch();\n\n    const {active:note} = useSelector(state=>state.notes);\n\n\n\n    const handleSave = () => {\n\n        dispatch(startSaveNote(note))\n    };\n\n\n\n    const handlePicClick = () => {\n        document.querySelector('#fileSelector')\n            .click()\n    };\n\n\n\n    const handleFileChange= (e) => {\n\n        const file = e.target.files[0]\n        console.log(file)\n        if(file){\n            dispatch(startUpLoading(file))\n        }\n    };\n\n\n\n    return (\n        <div className=\"notes__appbar\">\n            <span>28 de agosto 2020</span>\n\n            <input\n                id='fileSelector'\n                type=\"file\"\n                style={{display:'none'}}\n                onChange={handleFileChange}\n            />\n\n            <div>\n                <button \n                    className=\"btn\"\n                    onClick={handlePicClick}\n                >\n                    Picture\n                </button>\n\n                <button \n                    className=\"btn\"\n                    onClick={handleSave}\n                >\n                    Save\n                </button>\n            </div>\n        </div>\n    )\n}\n","import React, {useEffect, useRef} from 'react'\nimport {useDispatch, useSelector} from 'react-redux';\nimport {activeNote, startDeleting} from '../../actions/notes';\nimport {useForm} from '../../hooks/useForm';\nimport { NotesAppBar } from './NotesAppBar'\n\nexport const NoteScreen = () => {\n\n    //rename active as note to have more sense\n    const {active:note} = useSelector(state=>state.notes);\n\n    const [formValues, handleInputChange, reset] = useForm(note);\n\n    const {body, title, url, id} = formValues;\n\n    const activeId = useRef(note.id);\n\n    const dispatch = useDispatch();\n\n\n\n    useEffect(() => {\n        if(note.id !== activeId.current){\n            reset(note)\n            activeId.current = note.id\n        }\n    }, [note, reset])\n\n\n\n    useEffect(() => {\n        dispatch(activeNote(formValues.id, {...formValues}))\n    }, [formValues, dispatch])\n\n\n\n    const handleDelete = () => {\n\n            dispatch(startDeleting(id));\n    };\n\n\n\n    return (\n        <div className=\"notes__main-content\">\n\n            <NotesAppBar />\n\n            <div className=\"notes__content\">\n\n                <input \n                    type=\"text\"\n                    placeholder=\"Some awesome title\"\n                    className=\"notes__title-input\"\n                    autoComplete=\"off\"\n                    name=\"title\"\n                    value={title}\n                    onChange={handleInputChange}\n                />\n\n                <textarea\n                    placeholder=\"What happened today\"\n                    className=\"notes__textarea\"\n                    name=\"body\"\n                    value={body}\n                    onChange={handleInputChange}\n                ></textarea>\n\n                {\n                    url &&         \n                        <div className=\"notes__image\">\n                            <img \n                                src={url}\n                                alt=\"imagen\"\n                            />\n                        </div>\n                }\n            </div>\n            <button \n                className='btn btn-danger'\n                onClick={handleDelete}\n            >\n                Delete\n            </button>\n        </div>\n    )\n}\n","import React from 'react'\n\nexport const NothingSelected = () => {\n    return (\n        <div className=\"nothing__main-content\">\n            <p>\n                Select something\n                <br />\n                pr create an entry!\n            </p>\n\n            <i className=\"far fa-star fa-4x mt-5\"></i>\n\n        </div>\n    )\n}\n","import React from 'react';\nimport { Sidebar } from './Sidebar';\nimport { NoteScreen } from '../notes/NoteScreen';\nimport {useSelector} from 'react-redux';\nimport { NothingSelected } from './NothingSelected';\n\n\nexport const JournalScreen = () => {\n\n\n\n    const {active} = useSelector(state => state.notes);\n\n\n\n\n    return (\n        <div className='journal__main-content animate__animated animate__fadeIn animate__faster'>\n\n            <Sidebar />\n\n\n                <main>\n\n                    {\n                        (active)\n                            ? (<NoteScreen/>)\n                            : (<NothingSelected/>)\n                    }\n\n                </main>\n\n\n        </div>\n    )\n}\n","import React from 'react';\nimport {Redirect, Route} from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst PrivateRoute = ({\n\n  isAuthenticated, \n  component:Component, \n  ...rest\n\n}) => {\n\n  return (\n    <Route {...rest}\n      component={(props)=>(\n        (isAuthenticated)\n          ? <Component {...props}/>\n          : <Redirect to='/auth/login'/>\n      )}\n    />\n  )\n}\n\n\n\nPrivateRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired, \n  component: PropTypes.func.isRequired}\n\n\nexport default PrivateRoute;\n","import React from 'react';\nimport {Redirect, Route} from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst PublicRoute = ({\n\n  isAuthenticated, \n  component:Component, \n  ...rest\n}) => {\n\n  return (\n    <Route {...rest}\n      component={(props)=>(\n        (isAuthenticated)\n          ? <Redirect to='/'/>\n          : <Component {...props}/>\n      )}\n    />\n  )\n}\n\n\n\nPublicRoute.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired, \n  component: PropTypes.func.isRequired}\n\nexport default PublicRoute;\n","import React, {useState} from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Redirect\n} from 'react-router-dom';\n\nimport { AuthRouter } from './AuthRouter';\nimport { JournalScreen } from '../components/journal/JournalScreen';\nimport {useEffect} from 'react';\nimport firebase from 'firebase/app';\nimport {useDispatch} from 'react-redux';\nimport {login} from '../actions/auth';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\nimport {startLoadingNotes} from '../actions/notes';\n\nexport const AppRouter = () => {\n\n    const dispatch = useDispatch();\n\n    const [checking, setChecking] = useState(true);\n\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n\n\n    useEffect(() => {\n\n        firebase.auth().onAuthStateChanged((user) => {\n            if(user?.uid){\n                dispatch(login(user.uid, user.displayName))\n                setIsLoggedIn(true)\n                dispatch(startLoadingNotes(user.uid))\n            }else{\n                setIsLoggedIn(false)\n            }\n            setChecking(false)\n        });\n    }, [dispatch, setChecking, setIsLoggedIn])\n\n\n\n    if(checking){\n        return (\n            <h1\n                style={{\n                    height: '100vh', \n                    display: 'flex', \n                    justifyContent: 'center',\n                    alignItems: 'center'\n                }}\n            >\n                Cool people is patience...\n            </h1>\n        )\n    }\n\n\n\n    return (\n        <Router>\n            <div>\n                <Switch>\n                    <PublicRoute \n                        path=\"/auth\"\n                        component={ AuthRouter }\n                        isAuthenticated={isLoggedIn}\n                    />\n\n                    <PrivateRoute\n                        exact\n                        path=\"/\"\n                        component={ JournalScreen }\n                        isAuthenticated={isLoggedIn}\n                    />\n\n                    <Redirect to=\"/auth/login\" />\n                </Switch>\n            </div>\n        </Router>\n    )\n}\n","import {types} from \"../types/types\";\n\nconst initialState = {\n\n  loading:false, \n  msgError:null\n\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch(action.type){\n\n    case types.uiSetError:\n      return {\n        ...state, \n        msgError:action.payload\n      }\n\n    case types.uiDelError:\n      return {\n        ...state, \n        msgError:null\n      }\n\n    case types.uiStartLoading:\n      return {\n        ...state, \n        loading:true\n      }\n\n    case types.uiFinishLoading:\n      return {\n        ...state, \n        loading:false\n      }\n\n    default:\n      return state\n\n  }\n};\n","import {types} from \"../types/types\";\n\nconst initialState = {\n\n  notes:[], \n  active:null\n};\n\nexport const notesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.notesActive:\n      return {\n        ...state, \n        active:{\n          ...action.payload\n        }\n      }\n\n    case types.notesAddNew:\n      console.log(action.payload)\n      return{\n        ...state, \n        notes:[action.payload, ...state.notes]\n      }\n\n    case types.notesLoad:\n      return{\n        ...state, \n        notes:[...action.payload]\n      }\n\n    case types.notesDelete:\n      return{\n        ...state, \n        active:null, \n        notes: state.notes.filter(note=>note.id!==action.payload)\n      }\n\n    case types.notesLogoutClean:\n      return{\n        ...state, \n        active:null, \n        notes:[]\n      }\n    default:\n      return state\n  }\n};\n","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\nimport {authReducer} from '../reducers/authReducer';\nimport thunk from 'redux-thunk';\nimport {uiReducer} from '../reducers/uiReducer';\nimport {notesReducer} from '../reducers/notesReducer';\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nconst reducers = combineReducers({\n  auth: authReducer, \n  ui: uiReducer, \n  notes: notesReducer, \n});\n\nexport const store = createStore(\n\n  reducers, \n  composeEnhancers(\n\n      applyMiddleware(thunk)\n  )\n);\n","/*{\n\n  uid:  dkjwndkjwndkwajd\n  name: 'faka'\n\n}*/ \n\nimport {types} from \"../types/types\";\n\nexport const authReducer = (state={}, action) => {\n\n  switch (action.type) {\n\n    case types.login:\n      return{\n\n        uid: action.payload.uid, \n        name: action.payload.displayName}\n\n    case types.logout:\n      return { }\n\n    default:\n      return state\n  }\n};\n","import React from 'react';\nimport {Provider} from 'react-redux';\nimport { AppRouter } from './routers/AppRouter';\nimport {store} from './store/store';\n\n\nexport const JournalApp = () => {\n    return (\n        <Provider store={store}>\n            <AppRouter />\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { JournalApp } from './JournalApp';\nimport './styles/styles.scss'\n\n\n\nReactDOM.render(\n  <JournalApp />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}